(this["webpackJsonpsynack-eval"]=this["webpackJsonpsynack-eval"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(11),o=n.n(s),i=(n(24),n(3)),l=n(4),u=n(6),h=n(5),p=n(9),b=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={inpQuery:"",selectedSearchEngine:"all"},e.handleSearch=e.handleSearch.bind(Object(p.a)(e)),e.handleSearchEngine=e.handleSearchEngine.bind(Object(p.a)(e)),e.handleChangeQuery=e.handleChangeQuery.bind(Object(p.a)(e)),e}return Object(l.a)(n,[{key:"handleChangeQuery",value:function(e){this.setState({inpQuery:e.target.value})}},{key:"handleSearch",value:function(){var e=this.state,t=e.inpQuery,n=e.selectedSearchEngine;t&&this.props.search(t,n)}},{key:"handleSearchEngine",value:function(e){this.setState({selectedSearchEngine:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.inpQuery,n=e.selectedSearchEngine;return Object(a.jsxs)("div",{className:"search-form",children:[Object(a.jsxs)("div",{className:"search-form__inputs",children:[Object(a.jsx)("input",{onChange:this.handleChangeQuery,value:t,type:"text"}),Object(a.jsxs)("select",{defaultValue:n,onChange:this.handleSearchEngine,children:[Object(a.jsx)("option",{value:"all",children:"All"}),Object(a.jsx)("option",{value:"google",children:"Google"}),Object(a.jsx)("option",{value:"bing",children:"Bing"})]})]}),Object(a.jsx)("div",{className:"search-form__action",children:Object(a.jsx)("button",{onClick:this.handleSearch,children:"Search"})})]})}}]),n}(c.a.Component),j=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.item;return Object(a.jsx)("div",{className:"search-results__item",children:Object(a.jsxs)("a",{target:"_blank",href:e.link,children:[Object(a.jsx)("span",{className:"display-link",children:e.displayLink}),Object(a.jsx)("span",{className:"title-link",children:e.title}),Object(a.jsx)("p",{children:e.snippet})]})})}}]),n}(c.a.Component),g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.response,n=e.loading,r=e.error;return Object(a.jsxs)("div",{className:"search-results",children:[Object(a.jsxs)("h3",{className:"search-results__title",children:[this.props.searchEngine," Results"]}),n&&Object(a.jsx)("div",{children:"Loading..."}),!n&&!r&&t.length>0&&t.map((function(e){return Object(a.jsx)(j,{item:e},e.cacheId)})),!n&&!r&&0==t.length&&Object(a.jsx)("div",{children:"There's no results."}),r&&Object(a.jsx)("div",{children:"An error have ocurred."})]})}}]),n}(c.a.Component),d=(n(25),n(7)),O=n.n(d),v=n(10),f="SEARCH_GOOGLE",y="SEARCH_BING",x="SEARCH_ALL",k="".concat(f,"_START"),m="".concat(f,"_SUCCESS"),S="".concat(f,"_FAIL"),E="".concat(f,"_FINISH"),_="".concat(y,"_START"),C="".concat(y,"_SUCCESS"),G="".concat(y,"_FAIL"),B="".concat(y,"_FINISH"),N=("".concat(x,"_START"),"".concat(x,"_SUCCESS"),"".concat(x,"_FAIL"),"".concat(x,"_FINISH"),"SET_SEARCH_ENGINE"),A="https://www.googleapis.com/customsearch/v1?key=".concat("AIzaSyDKGV7naNqKQvkcbpl6-X4NgRO6eC3caQg","&cx=d4e34c3e52055c77a&q="),I=function(){var e=Object(v.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(v.a)(O.a.mark((function e(a,r){var c,s,o,i,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("google"!=t){e.next=17;break}return e.prev=1,e.next=4,fetch("".concat(A).concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:s=e.sent,o=s.items.map((function(e){return{snippet:e.snippet,title:e.title,displayLink:e.displayLink,link:e.link,id:e.cacheId}})),a(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r(e.t0);case 15:e.next=32;break;case 17:if("bing"!=t){e.next=32;break}return e.prev=18,e.next=21,fetch("".concat("https://api.bing.microsoft.com/v7.0/search?q=").concat(n),{method:"GET",headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"b89c6a5ac03843fc9f2e6f7727ace7ea"}});case 21:return i=e.sent,e.next=24,i.json();case 24:l=e.sent,u=l.webPages.value.map((function(e){return{snippet:e.snippet,title:e.name,displayLink:e.displayUrl,link:e.url,id:e.id}})),a(u),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(18),r(e.t1);case 32:case"end":return e.stop()}}),e,null,[[1,12],[18,29]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=n(12),w=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.call(this)}return Object(l.a)(n,[{key:"search",value:function(e,t){this.props.search(e,t)}},{key:"render",value:function(){var e=this.props,t=e.searchEngine,n=e.googleData,r=e.bingData,c=e.search;return Object(a.jsxs)("div",{children:[Object(a.jsx)(b,{search:c}),t&&("google"==t||"all"==t)&&Object(a.jsx)(g,{searchEngine:"Google",data:n}),t&&("bing"==t||"all"==t)&&Object(a.jsx)(g,{searchEngine:"Bing",data:r})]})}}]),n}(c.a.Component),L=Object(R.b)((function(e){return console.log(e),{bingData:e.results.resultsBing,googleData:e.results.resultsGoogle,searchEngine:e.results.searchEngine}}),(function(e){return{search:function(t,n){return e(function(e,t){return function(){var n=Object(v.a)(O.a.mark((function n(a){var r,c,s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(e,t),a({type:N,payload:t}),"google"!=t&&"bing"!=t){n.next=19;break}return a({type:"google"==t?k:_}),n.prev=4,n.next=7,I(t,e);case 7:r=n.sent,a({type:"google"==t?m:C,payload:r}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),a({type:"google"==t?S:G});case 14:return n.prev=14,a({type:"google"==t?E:B}),n.finish(14);case 17:n.next=51;break;case 19:return a({type:k}),a({type:_}),n.prev=21,n.next=24,I("google",e);case 24:c=n.sent,console.log("items",c),a({type:m,payload:c}),n.next=33;break;case 29:n.prev=29,n.t1=n.catch(21),console.log("ERROR",n.t1),a({type:S});case 33:return n.prev=33,a({type:E}),n.finish(33);case 36:return n.prev=36,n.next=39,I("bing",e);case 39:s=n.sent,a({type:C,payload:s}),console.log("items",s),n.next=48;break;case 44:n.prev=44,n.t2=n.catch(36),console.log("ERROR",n.t2),a({type:G});case 48:return n.prev=48,a({type:B}),n.finish(48);case 51:case"end":return n.stop()}}),n,null,[[4,11,14,17],[21,29,33,36],[36,44,48,51]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(w),Q=n(8),T=n(1),H={resultsGoogle:{response:[],loading:!1,error:!1},resultsBing:{response:[],loading:!1,error:!1},searchEngine:null},F=Object(Q.c)({results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(T.a)(Object(T.a)({},e),{},{searchEngine:t.payload});case k:return Object(T.a)(Object(T.a)({},e),{},{resultsGoogle:Object(T.a)(Object(T.a)({},e.resultsGoogle),{},{loading:!0,response:[],error:!1}),resultsBing:Object(T.a)(Object(T.a)({},e.resultsBing),{},{response:[],error:!1})});case m:return Object(T.a)(Object(T.a)({},e),{},{resultsGoogle:Object(T.a)(Object(T.a)({},e.resultsGoogle),{},{response:t.payload})});case S:return Object(T.a)(Object(T.a)({},e),{},{resultsGoogle:Object(T.a)(Object(T.a)({},e.resultsGoogle),{},{error:!0})});case E:return Object(T.a)(Object(T.a)({},e),{},{resultsGoogle:Object(T.a)(Object(T.a)({},e.resultsGoogle),{},{loading:!1})});case _:return Object(T.a)(Object(T.a)({},e),{},{resultsBing:Object(T.a)(Object(T.a)({},e.resultsBing),{},{loading:!0,response:[],error:!1}),resultsGoogle:Object(T.a)(Object(T.a)({},e.resultsGoogle),{},{response:[],error:!1})});case C:return Object(T.a)(Object(T.a)({},e),{},{resultsBing:Object(T.a)(Object(T.a)({},e.resultsBing),{},{response:t.payload})});case G:return Object(T.a)(Object(T.a)({},e),{},{resultsBing:Object(T.a)(Object(T.a)({},e.resultsBing),{},{error:!0})});case B:return Object(T.a)(Object(T.a)({},e),{},{resultsBing:Object(T.a)(Object(T.a)({},e.resultsBing),{},{loading:!1})});default:return e}}}),D=n(18),U=Object(Q.d)(F,Object(Q.a)(D.a));o.a.render(Object(a.jsx)(R.a,{store:U,children:Object(a.jsx)(L,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.a9c9e2fb.chunk.js.map